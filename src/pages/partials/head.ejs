<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#e8e8e8f5">

    <!-- Title & Description -->
    <title><%= title || "Nostrcheck Server" %></title>
    <meta name="description" content="<%= description || 'Self-hosted nostrcheck-server' %>">
    <% if (noindex) { %><meta name="robots" content="noindex,nofollow"><% } %>

    <% const proto = (request.headers['x-forwarded-proto'] || request.protocol || 'https'); %>
    <% const urlBase = `${proto}://${serverHost}`; %>
    <!-- Canonical -->
    <link rel="canonical" href="<%= urlBase + request.originalUrl %>" />

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Nostrcheck Server">
    <meta property="og:title" content="<%= title || 'Nostrcheck Server' %>">
    <meta property="og:description" content="<%= description || 'Self-hosted nostrcheck-server' %>">
    <meta property="og:image" content="<%= urlBase %>/static/resources/logo-server.webp">
    <meta property="og:url" content="<%= urlBase + request.originalUrl %>">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= title || 'Nostrcheck Server' %>">
    <meta name="twitter:description" content="<%= description || 'Self-hosted nostrcheck-server' %>">
    <meta name="twitter:image" content="<%= urlBase %>/static/resources/logo-server.webp">
    <meta name="twitter:image:alt" content="<%= title || 'Nostrcheck Server' %>">

    <!-- CSS & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">

    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">


    <!-- Theme logo switch -->
    <script>
        (function() {
        document.write(`<style>#server-logo {
            content: url('${localStorage.getItem('theme') === 'dark'
            ? '/static/resources/appearance-server-logo-dark.png'
            : '/static/resources/appearance-server-logo-light.png'}');
        }</style>`);
        })();
    </script>

    <!-- Dynamic theme CSS -->
    <script>
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = '/static/css/theme.css?v=' + Math.floor(Math.random() * 10000);
        document.head.appendChild(link);
    </script>
</head>
